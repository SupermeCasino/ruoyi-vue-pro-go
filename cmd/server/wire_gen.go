// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package main

import (
	"github.com/gin-gonic/gin"
	"github.com/wxlbd/ruoyi-mall-go/internal/api/handler"
	"github.com/wxlbd/ruoyi-mall-go/internal/api/handler/admin"
	member3 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/admin/member"
	pay3 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/admin/pay"
	wallet2 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/admin/pay/wallet"
	product2 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/admin/product"
	promotion2 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/admin/promotion"
	trade4 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/admin/trade"
	brokerage2 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/admin/trade/brokerage"
	member2 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/app/member"
	pay4 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/app/pay"
	product3 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/app/product"
	promotion3 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/app/promotion"
	trade2 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/app/trade"
	brokerage3 "github.com/wxlbd/ruoyi-mall-go/internal/api/handler/app/trade/brokerage"
	"github.com/wxlbd/ruoyi-mall-go/internal/api/router"
	"github.com/wxlbd/ruoyi-mall-go/internal/middleware"
	"github.com/wxlbd/ruoyi-mall-go/internal/pkg/datascope"
	"github.com/wxlbd/ruoyi-mall-go/internal/pkg/permission"
	"github.com/wxlbd/ruoyi-mall-go/internal/pkg/websocket"
	"github.com/wxlbd/ruoyi-mall-go/internal/repo"
	pay2 "github.com/wxlbd/ruoyi-mall-go/internal/repo/pay"
	product4 "github.com/wxlbd/ruoyi-mall-go/internal/repo/product"
	trade3 "github.com/wxlbd/ruoyi-mall-go/internal/repo/trade"
	"github.com/wxlbd/ruoyi-mall-go/internal/service"
	"github.com/wxlbd/ruoyi-mall-go/internal/service/member"
	"github.com/wxlbd/ruoyi-mall-go/internal/service/pay"
	client2 "github.com/wxlbd/ruoyi-mall-go/internal/service/pay/client"
	"github.com/wxlbd/ruoyi-mall-go/internal/service/pay/wallet"
	"github.com/wxlbd/ruoyi-mall-go/internal/service/product"
	"github.com/wxlbd/ruoyi-mall-go/internal/service/promotion"
	"github.com/wxlbd/ruoyi-mall-go/internal/service/trade"
	"github.com/wxlbd/ruoyi-mall-go/internal/service/trade/brokerage"
	"github.com/wxlbd/ruoyi-mall-go/internal/service/trade/delivery/client"
	"github.com/wxlbd/ruoyi-mall-go/pkg/cache"
	"github.com/wxlbd/ruoyi-mall-go/pkg/database"
	"github.com/wxlbd/ruoyi-mall-go/pkg/logger"
)

import (
	_ "github.com/wxlbd/ruoyi-mall-go/internal/service/pay/client/alipay"
	_ "github.com/wxlbd/ruoyi-mall-go/internal/service/pay/client/weixin"
)

// Injectors from wire.go:

func InitApp() (*gin.Engine, error) {
	db := database.InitDB()
	redisClient := cache.InitRedis()
	zapLogger := logger.NewLogger()
	query := repo.NewQuery(db)
	roleService := service.NewRoleService(query)
	permissionService := service.NewPermissionService(query, roleService)
	deptService := service.NewDeptService(query)
	pluginRegistered, err := datascope.RegisterPlugin(db, zapLogger, permissionService, deptService)
	if err != nil {
		return nil, err
	}
	menuService := service.NewMenuService(query)
	oAuth2TokenService := service.NewOAuth2TokenService()
	smsTemplateService := service.NewSmsTemplateService(query)
	smsLogService := service.NewSmsLogService(query)
	smsClientFactory := service.NewSmsClientFactory()
	smsSendService := service.NewSmsSendService(query, smsTemplateService, smsLogService, smsClientFactory)
	smsCodeService := service.NewSmsCodeService(query, redisClient, smsSendService)
	loginLogService := service.NewLoginLogService(query)
	userService := service.NewUserService(query, deptService)
	socialUserService := service.NewSocialUserService(query)
	authService := service.NewAuthService(query, permissionService, roleService, menuService, oAuth2TokenService, smsCodeService, loginLogService, userService, socialUserService)
	authHandler := handler.NewAuthHandler(authService)
	userHandler := handler.NewUserHandler(userService)
	tenantService := service.NewTenantService(query, roleService, permissionService)
	tenantHandler := handler.NewTenantHandler(tenantService)
	dictService := service.NewDictService(query)
	dictHandler := handler.NewDictHandler(dictService)
	deptHandler := handler.NewDeptHandler(deptService)
	postService := service.NewPostService(query)
	postHandler := handler.NewPostHandler(postService)
	roleHandler := handler.NewRoleHandler(roleService)
	menuHandler := handler.NewMenuHandler(menuService)
	permissionHandler := handler.NewPermissionHandler(permissionService, tenantService)
	noticeService := service.NewNoticeService(query)
	noticeHandler := handler.NewNoticeHandler(noticeService)
	configService := service.NewConfigService(query)
	configHandler := handler.NewConfigHandler(configService)
	smsChannelService := service.NewSmsChannelService(query)
	smsChannelHandler := handler.NewSmsChannelHandler(smsChannelService)
	smsTemplateHandler := handler.NewSmsTemplateHandler(smsTemplateService, smsSendService)
	smsLogHandler := handler.NewSmsLogHandler(smsLogService)
	fileConfigService := service.NewFileConfigService(query)
	fileConfigHandler := handler.NewFileConfigHandler(fileConfigService)
	fileService := service.NewFileService(query, fileConfigService)
	fileHandler := handler.NewFileHandler(fileService)
	memberLevelService := member.NewMemberLevelService(query)
	memberUserService := member.NewMemberUserService(query, smsCodeService, memberLevelService, socialUserService)
	memberAuthService := member.NewMemberAuthService(query, smsCodeService, memberUserService, socialUserService, oAuth2TokenService, loginLogService)
	appAuthHandler := member2.NewAppAuthHandler(memberAuthService)
	appMemberUserHandler := member2.NewAppMemberUserHandler(memberUserService)
	memberAddressService := member.NewMemberAddressService(query)
	appMemberAddressHandler := member2.NewAppMemberAddressHandler(memberAddressService)
	productCategoryService := product.NewProductCategoryService(query)
	productCategoryHandler := product2.NewProductCategoryHandler(productCategoryService)
	productPropertyValueService := product.NewProductPropertyValueService(query)
	productPropertyService := product.NewProductPropertyService(query, productPropertyValueService)
	productPropertyHandler := product2.NewProductPropertyHandler(productPropertyService, productPropertyValueService)
	productBrandService := product.NewProductBrandService(query)
	productBrandHandler := product2.NewProductBrandHandler(productBrandService)
	productSkuService := product.NewProductSkuService(query, productPropertyService, productPropertyValueService)
	productSpuService := product.NewProductSpuService(query, productSkuService, productBrandService, productCategoryService)
	productSpuHandler := product2.NewProductSpuHandler(productSpuService)
	productCommentService := product.NewProductCommentService(query, productSpuService, productSkuService)
	productCommentHandler := product2.NewProductCommentHandler(productCommentService)
	productFavoriteService := product.NewProductFavoriteService(query, productSpuService)
	productFavoriteHandler := product2.NewProductFavoriteHandler(productFavoriteService)
	productBrowseHistoryService := product.NewProductBrowseHistoryService(query, productSpuService)
	productBrowseHistoryHandler := product2.NewProductBrowseHistoryHandler(productBrowseHistoryService)
	appCategoryHandler := product3.NewAppCategoryHandler(productCategoryService)
	appProductFavoriteHandler := product3.NewAppProductFavoriteHandler(productFavoriteService)
	appProductBrowseHistoryHandler := product3.NewAppProductBrowseHistoryHandler(productBrowseHistoryService)
	appProductSpuHandler := product3.NewAppProductSpuHandler(productSpuService, productBrowseHistoryService, memberUserService, memberLevelService)
	appProductCommentHandler := product3.NewAppProductCommentHandler(productCommentService)
	cartService := trade.NewCartService(query, productSkuService, productSpuService)
	appCartHandler := trade2.NewAppCartHandler(cartService)
	couponUserService := promotion.NewCouponUserService(query)
	rewardActivityService := promotion.NewRewardActivityService(query)
	seckillConfigService := promotion.NewSeckillConfigService(query)
	seckillActivityService := promotion.NewSeckillActivityService(query, seckillConfigService, productSpuService, productSkuService)
	deliveryExpressTemplateService := trade.NewDeliveryExpressTemplateService(query)
	memberConfigService := member.NewMemberConfigService(query)
	tradePriceService := trade.NewTradePriceService(productSkuService, productSpuService, couponUserService, rewardActivityService, seckillActivityService, memberUserService, memberLevelService, deliveryExpressTemplateService, memberAddressService, memberConfigService)
	tradeOrderLogRepository := repo.NewTradeOrderLogRepository(query)
	tradeOrderLogService := trade.NewTradeOrderLogService(tradeOrderLogRepository)
	tradeNoRedisDAO := trade3.NewTradeNoRedisDAO(redisClient)
	tradeOrderUpdateService := trade.NewTradeOrderUpdateService(query, productSkuService, cartService, tradePriceService, memberAddressService, couponUserService, tradeOrderLogService, tradeNoRedisDAO)
	expressClientFactoryImpl := client.NewExpressClientFactory()
	deliveryExpressService := trade.NewDeliveryExpressService(query)
	tradeOrderQueryService := trade.NewTradeOrderQueryService(query, expressClientFactoryImpl, deliveryExpressService)
	tradeOrderHandler := trade4.NewTradeOrderHandler(tradeOrderUpdateService, tradeOrderQueryService, memberUserService, deliveryExpressTemplateService)
	payClientFactory := client2.NewPayClientFactory()
	payChannelService := pay.NewPayChannelService(query, payClientFactory)
	payAppService := pay.NewPayAppService(query, payChannelService)
	payNotifyService := pay.NewPayNotifyService(query, zapLogger, redisClient)
	payNoRedisDAO := pay2.NewPayNoRedisDAO(redisClient)
	payOrderService := pay.NewPayOrderService(query, payAppService, payChannelService, payClientFactory, payNotifyService, payNoRedisDAO)
	payRefundService := pay.NewPayRefundService(query, payAppService, payChannelService, payOrderService, payNotifyService, payNoRedisDAO)
	combinationActivityService := promotion.NewCombinationActivityService(query, productSpuService, productSkuService)
	socialClientService := service.NewSocialClientService(query)
	combinationRecordService := promotion.NewCombinationRecordService(query, combinationActivityService, memberUserService, productSpuService, productSkuService, tradeOrderUpdateService, socialClientService)
	afterSaleLogRepository := repo.NewAfterSaleLogRepository(query)
	afterSaleLogService := trade.NewAfterSaleLogService(afterSaleLogRepository)
	tradeConfigService := trade.NewTradeConfigService(query)
	tradeAfterSaleService := trade.NewTradeAfterSaleService(query, tradeOrderUpdateService, tradeOrderQueryService, deliveryExpressService, tradeNoRedisDAO, payRefundService, combinationRecordService, memberUserService, afterSaleLogService, tradeOrderLogService, tradeConfigService, payAppService)
	appTradeOrderHandler := trade2.NewAppTradeOrderHandler(tradeOrderUpdateService, tradeOrderQueryService, tradeAfterSaleService, tradePriceService)
	tradeAfterSaleHandler := trade4.NewTradeAfterSaleHandler(tradeAfterSaleService)
	appTradeAfterSaleHandler := trade2.NewAppTradeAfterSaleHandler(tradeAfterSaleService)
	couponService := promotion.NewCouponService(query)
	couponHandler := promotion2.NewCouponHandler(couponService)
	combinationActivityHandler := promotion2.NewCombinationActivityHandler(combinationActivityService, combinationRecordService, productSpuService)
	discountActivityService := promotion.NewDiscountActivityService(query, productSkuService)
	discountActivityHandler := promotion2.NewDiscountActivityHandler(discountActivityService)
	appCombinationActivityHandler := promotion3.NewAppCombinationActivityHandler(combinationActivityService)
	appCombinationRecordHandler := promotion3.NewAppCombinationRecordHandler(combinationRecordService)
	appCouponHandler := promotion3.NewAppCouponHandler(couponUserService)
	appCouponTemplateHandler := promotion3.NewAppCouponTemplateHandler(couponService)
	deliveryExpressHandler := trade4.NewDeliveryExpressHandler(deliveryExpressService, zapLogger)
	deliveryPickUpStoreService := trade.NewDeliveryPickUpStoreService(query)
	deliveryPickUpStoreHandler := trade4.NewDeliveryPickUpStoreHandler(deliveryPickUpStoreService, zapLogger)
	deliveryExpressTemplateHandler := trade4.NewDeliveryExpressTemplateHandler(deliveryExpressTemplateService, zapLogger)
	promotionBannerService := promotion.NewPromotionBannerService(query)
	bannerHandler := promotion2.NewBannerHandler(promotionBannerService)
	rewardActivityHandler := promotion2.NewRewardActivityHandler(rewardActivityService)
	seckillConfigHandler := promotion2.NewSeckillConfigHandler(seckillConfigService)
	seckillActivityHandler := promotion2.NewSeckillActivityHandler(seckillActivityService, productSpuService)
	bargainActivityService := promotion.NewBargainActivityService(query, productSpuService, productSkuService)
	bargainRecordService := promotion.NewBargainRecordService(query)
	bargainHelpService := promotion.NewBargainHelpService(query)
	bargainActivityHandler := promotion2.NewBargainActivityHandler(bargainActivityService, bargainRecordService, bargainHelpService, productSpuService)
	appBannerHandler := promotion3.NewAppBannerHandler(promotionBannerService)
	memberLevelHandler := member3.NewMemberLevelHandler(memberLevelService)
	memberGroupService := member.NewMemberGroupService(query)
	memberGroupHandler := member3.NewMemberGroupHandler(memberGroupService)
	memberTagService := member.NewMemberTagService(query, memberUserService)
	memberTagHandler := member3.NewMemberTagHandler(memberTagService)
	memberConfigHandler := member3.NewMemberConfigHandler(memberConfigService)
	memberPointRecordService := member.NewMemberPointRecordService(query, memberUserService)
	memberPointRecordHandler := member3.NewMemberPointRecordHandler(memberPointRecordService, memberUserService)
	appMemberPointRecordHandler := member2.NewAppMemberPointRecordHandler(memberPointRecordService)
	memberSignInConfigService := member.NewMemberSignInConfigService(query)
	memberSignInConfigHandler := member3.NewMemberSignInConfigHandler(memberSignInConfigService)
	memberSignInRecordService := member.NewMemberSignInRecordService(query, memberSignInConfigService, memberUserService, memberPointRecordService, memberLevelService)
	memberSignInRecordHandler := member3.NewMemberSignInRecordHandler(memberSignInRecordService, memberUserService)
	appMemberSignInRecordHandler := member2.NewAppMemberSignInRecordHandler(memberSignInRecordService)
	appSocialUserHandler := member2.NewAppSocialUserHandler(socialUserService)
	memberUserHandler := member3.NewMemberUserHandler(memberUserService, memberLevelService, memberPointRecordService, memberGroupService, memberTagService)
	payAppHandler := pay3.NewPayAppHandler(payAppService)
	payChannelHandler := pay3.NewPayChannelHandler(payChannelService)
	payWalletTransactionService := wallet.NewPayWalletTransactionService(query)
	payWalletService := wallet.NewPayWalletService(query, payWalletTransactionService)
	payOrderHandler := pay3.NewPayOrderHandler(payOrderService, payAppService, payWalletService)
	payRefundHandler := pay3.NewPayRefundHandler(payRefundService, payAppService, payOrderService)
	payTransferRepository := pay2.NewPayTransferRepository(query)
	payTransferService := pay.NewPayTransferService(payTransferRepository, payAppService, payChannelService, payNotifyService, payClientFactory, payNoRedisDAO, zapLogger)
	payNotifyHandler := pay3.NewPayNotifyHandler(payNotifyService, payAppService, payChannelService, payOrderService, payRefundService, payTransferService, zapLogger)
	payTransferHandler := pay3.NewPayTransferHandler(payTransferService)
	payWalletHandler := wallet2.NewPayWalletHandler(payWalletService)
	payWalletRechargePackageService := wallet.NewPayWalletRechargePackageService(query)
	payWalletRechargeService := wallet.NewPayWalletRechargeService(query, payWalletService, payWalletTransactionService, payWalletRechargePackageService, payOrderService, payRefundService, payNotifyService, payChannelService)
	payWalletRechargeHandler := wallet2.NewPayWalletRechargeHandler(payWalletRechargeService)
	payWalletRechargePackageHandler := wallet2.NewPayWalletRechargePackageHandler(payWalletRechargePackageService)
	payWalletTransactionHandler := wallet2.NewPayWalletTransactionHandler(payWalletTransactionService)
	loginLogHandler := handler.NewLoginLogHandler(loginLogService)
	operateLogService := service.NewOperateLogService(query)
	operateLogHandler := handler.NewOperateLogHandler(operateLogService)
	payTransferSyncJob := service.NewPayTransferSyncJob(payTransferService, zapLogger)
	payNotifyJob := service.NewPayNotifyJob(payNotifyService)
	payOrderSyncJob := service.NewPayOrderSyncJob(payOrderService)
	payOrderExpireJob := service.NewPayOrderExpireJob(payOrderService)
	payRefundSyncJob := service.NewPayRefundSyncJob(payRefundService)
	v := service.ProvideJobHandlers(payTransferSyncJob, payNotifyJob, payOrderSyncJob, payOrderExpireJob, payRefundSyncJob)
	scheduler, err := service.NewScheduler(query, zapLogger, v)
	if err != nil {
		return nil, err
	}
	jobService := service.NewJobService(query, scheduler)
	jobHandler := handler.NewJobHandler(jobService)
	jobLogService := service.NewJobLogService(query)
	jobLogHandler := handler.NewJobLogHandler(jobLogService)
	apiAccessLogService := service.NewApiAccessLogService(query)
	apiAccessLogHandler := handler.NewApiAccessLogHandler(apiAccessLogService)
	apiErrorLogService := service.NewApiErrorLogService(query)
	apiErrorLogHandler := handler.NewApiErrorLogHandler(apiErrorLogService)
	socialClientHandler := handler.NewSocialClientHandler(socialClientService, zapLogger)
	socialUserHandler := handler.NewSocialUserHandler(socialUserService, zapLogger)
	sensitiveWordService := service.NewSensitiveWordService(db)
	sensitiveWordHandler := handler.NewSensitiveWordHandler(sensitiveWordService)
	mailService := service.NewMailService(db)
	mailHandler := handler.NewMailHandler(mailService)
	notifyService := service.NewNotifyService(query)
	notifyHandler := handler.NewNotifyHandler(notifyService)
	oAuth2ClientService := service.NewOAuth2ClientService(db)
	oAuth2ClientHandler := handler.NewOAuth2ClientHandler(oAuth2ClientService)
	appBargainActivityHandler := promotion3.NewAppBargainActivityHandler(bargainActivityService, bargainRecordService, productSpuService)
	appBargainRecordHandler := promotion3.NewAppBargainRecordHandler(bargainRecordService, bargainActivityService, memberUserService, productSpuService, tradeOrderQueryService, bargainHelpService)
	appBargainHelpHandler := promotion3.NewAppBargainHelpHandler(bargainHelpService, memberUserService)
	appSeckillActivityHandler := promotion3.NewAppSeckillActivityHandler(seckillActivityService, seckillConfigService, productSpuService)
	appSeckillConfigHandler := promotion3.NewAppSeckillConfigHandler(seckillConfigService)
	articleCategoryService := promotion.NewArticleCategoryService(query)
	articleCategoryHandler := promotion2.NewArticleCategoryHandler(articleCategoryService)
	articleService := promotion.NewArticleService(query)
	articleHandler := promotion2.NewArticleHandler(articleService)
	appArticleHandler := promotion3.NewAppArticleHandler(articleService, articleCategoryService)
	diyTemplateService := promotion.NewDiyTemplateService(query)
	diyTemplateHandler := promotion2.NewDiyTemplateHandler(diyTemplateService)
	diyPageService := promotion.NewDiyPageService(query, diyTemplateService)
	diyPageHandler := promotion2.NewDiyPageHandler(diyPageService)
	appDiyPageHandler := promotion3.NewAppDiyPageHandler(diyPageService)
	appDiyTemplateHandler := promotion3.NewAppDiyTemplateHandler(diyTemplateService, diyPageService)
	manager := websocket.NewManager()
	kefuService := promotion.NewKefuService(query, memberUserService, userService, manager)
	kefuHandler := promotion2.NewKefuHandler(kefuService)
	appKefuHandler := promotion3.NewAppKefuHandler(kefuService)
	pointActivityService := promotion.NewPointActivityService(query, productSpuService, productSkuService)
	pointActivityHandler := promotion2.NewPointActivityHandler(pointActivityService, productSpuService)
	bargainRecordHandler := promotion2.NewBargainRecordHandler(bargainRecordService, bargainActivityService, memberUserService)
	combinationRecordHandler := promotion2.NewCombinationRecordHandler(combinationRecordService, combinationActivityService)
	bargainHelpHandler := promotion2.NewBargainHelpHandler(bargainHelpService, memberUserService)
	tradeConfigHandler := trade4.NewTradeConfigHandler(tradeConfigService)
	appTradeConfigHandler := trade2.NewAppTradeConfigHandler(tradeConfigService)
	brokerageUserService := brokerage.NewBrokerageUserService(query, zapLogger, memberUserService, tradeConfigService)
	brokerageUserHandler := brokerage2.NewBrokerageUserHandler(brokerageUserService, memberUserService, zapLogger)
	brokerageRecordService := brokerage.NewBrokerageRecordService(query, zapLogger, tradeConfigService, productSpuService, productSkuService)
	brokerageRecordHandler := brokerage2.NewBrokerageRecordHandler(zapLogger, brokerageRecordService, memberUserService)
	brokerageWithdrawService := brokerage.NewBrokerageWithdrawService(query, zapLogger, brokerageRecordService, payTransferService, payWalletService, tradeConfigService, memberUserService)
	brokerageWithdrawHandler := brokerage2.NewBrokerageWithdrawHandler(brokerageWithdrawService, memberUserService)
	tradeStatisticsRepository := repo.NewTradeStatisticsRepository(query)
	tradeOrderStatisticsRepository := repo.NewTradeOrderStatisticsRepository(query)
	tradeOrderStatisticsService := service.NewTradeOrderStatisticsServiceV2(tradeOrderStatisticsRepository)
	afterSaleStatisticsRepository := repo.NewAfterSaleStatisticsRepository(query)
	afterSaleStatisticsService := service.NewAfterSaleStatisticsService(afterSaleStatisticsRepository)
	brokerageStatisticsRepository := repo.NewBrokerageStatisticsRepository(query)
	brokerageStatisticsService := service.NewBrokerageStatisticsService(brokerageStatisticsRepository)
	tradeStatisticsService := service.NewTradeStatisticsService(tradeStatisticsRepository, tradeOrderStatisticsService, afterSaleStatisticsService, brokerageStatisticsService)
	tradeStatisticsHandler := admin.NewTradeStatisticsHandler(tradeStatisticsService, tradeOrderStatisticsService, afterSaleStatisticsService, brokerageStatisticsService)
	productStatisticsRepository := product4.NewProductStatisticsRepository(query, db)
	productStatisticsService := service.NewProductStatisticsService(productStatisticsRepository)
	productStatisticsHandler := admin.NewProductStatisticsHandler(productStatisticsService, productSpuService)
	memberStatisticsRepository := repo.NewMemberStatisticsRepository(query, db)
	memberStatisticsService := service.NewMemberStatisticsService(memberStatisticsRepository)
	apiAccessLogStatisticsRepository := repo.NewApiAccessLogStatisticsRepository(query)
	apiAccessLogStatisticsService := service.NewApiAccessLogStatisticsService(apiAccessLogStatisticsRepository)
	memberStatisticsHandler := admin.NewMemberStatisticsHandler(memberStatisticsService, tradeOrderStatisticsService, apiAccessLogStatisticsService)
	payWalletStatisticsRepository := repo.NewPayWalletStatisticsRepository(query)
	payWalletStatisticsService := service.NewPayWalletStatisticsService(payWalletStatisticsRepository)
	payStatisticsHandler := admin.NewPayStatisticsHandler(payWalletStatisticsService)
	appBrokerageUserHandler := brokerage3.NewAppBrokerageUserHandler(brokerageUserService, brokerageRecordService, brokerageWithdrawService, memberUserService)
	appBrokerageRecordHandler := brokerage3.NewAppBrokerageRecordHandler(brokerageRecordService)
	appBrokerageWithdrawHandler := brokerage3.NewAppBrokerageWithdrawHandler(brokerageWithdrawService, payTransferService)
	appPayOrderHandler := pay4.NewAppPayOrderHandler(payOrderService, payWalletService)
	appPayWalletHandler := pay4.NewAppPayWalletHandler(payWalletService, payWalletRechargeService, payOrderService)
	appPayChannelHandler := pay4.NewAppPayChannelHandler(payChannelService)
	appPayTransferHandler := pay4.NewAppPayTransferHandler(payTransferService)
	appPayWalletTransactionHandler := pay4.NewAppPayWalletTransactionHandler(payWalletTransactionService, payWalletService)
	appPayWalletRechargePackageHandler := pay4.NewAppPayWalletRechargePackageHandler(payWalletRechargePackageService)
	appActivityHandler := promotion3.NewAppActivityHandler(combinationActivityService, seckillActivityService, bargainActivityService)
	appPointActivityHandler := promotion3.NewAppPointActivityHandler(pointActivityService, productSpuService)
	webSocketHandler := handler.NewWebSocketHandler(manager, zapLogger)
	enforcer, err := permission.InitEnforcer(db)
	if err != nil {
		return nil, err
	}
	casbinMiddleware := middleware.NewCasbinMiddleware(enforcer, permissionService)
	engine := router.InitRouter(db, redisClient, pluginRegistered, authHandler, userHandler, tenantHandler, dictHandler, deptHandler, postHandler, roleHandler, menuHandler, permissionHandler, noticeHandler, configHandler, smsChannelHandler, smsTemplateHandler, smsLogHandler, fileConfigHandler, fileHandler, appAuthHandler, appMemberUserHandler, appMemberAddressHandler, productCategoryHandler, productPropertyHandler, productBrandHandler, productSpuHandler, productCommentHandler, productFavoriteHandler, productBrowseHistoryHandler, appCategoryHandler, appProductFavoriteHandler, appProductBrowseHistoryHandler, appProductSpuHandler, appProductCommentHandler, appCartHandler, tradeOrderHandler, appTradeOrderHandler, tradeAfterSaleHandler, appTradeAfterSaleHandler, couponHandler, combinationActivityHandler, discountActivityHandler, appCombinationActivityHandler, appCombinationRecordHandler, appCouponHandler, appCouponTemplateHandler, deliveryExpressHandler, deliveryPickUpStoreHandler, deliveryExpressTemplateHandler, bannerHandler, rewardActivityHandler, seckillConfigHandler, seckillActivityHandler, bargainActivityHandler, appBannerHandler, memberLevelHandler, memberGroupHandler, memberTagHandler, memberConfigHandler, memberPointRecordHandler, appMemberPointRecordHandler, memberSignInConfigHandler, memberSignInRecordHandler, appMemberSignInRecordHandler, appSocialUserHandler, memberUserHandler, payAppHandler, payChannelHandler, payOrderHandler, payRefundHandler, payNotifyHandler, payTransferHandler, payWalletHandler, payWalletRechargeHandler, payWalletRechargePackageHandler, payWalletTransactionHandler, loginLogHandler, operateLogHandler, jobHandler, jobLogHandler, apiAccessLogHandler, apiErrorLogHandler, socialClientHandler, socialUserHandler, sensitiveWordHandler, mailHandler, notifyHandler, oAuth2ClientHandler, appBargainActivityHandler, appBargainRecordHandler, appBargainHelpHandler, appSeckillActivityHandler, appSeckillConfigHandler, articleCategoryHandler, articleHandler, appArticleHandler, diyTemplateHandler, diyPageHandler, appDiyPageHandler, appDiyTemplateHandler, kefuHandler, appKefuHandler, pointActivityHandler, bargainRecordHandler, combinationRecordHandler, bargainHelpHandler, tradeConfigHandler, appTradeConfigHandler, brokerageUserHandler, brokerageRecordHandler, brokerageWithdrawHandler, tradeStatisticsHandler, productStatisticsHandler, memberStatisticsHandler, payStatisticsHandler, appBrokerageUserHandler, appBrokerageRecordHandler, appBrokerageWithdrawHandler, appPayOrderHandler, appPayWalletHandler, appPayChannelHandler, appPayTransferHandler, appPayWalletTransactionHandler, appPayWalletRechargePackageHandler, appActivityHandler, appPointActivityHandler, webSocketHandler, casbinMiddleware)
	return engine, nil
}
